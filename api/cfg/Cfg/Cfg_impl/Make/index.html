<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (cfg.Cfg.Cfg_impl.Make)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">cfg</a> &#x00BB; <a href="../../index.html">Cfg</a> &#x00BB; <a href="../index.html">Cfg_impl</a> &#x00BB; Make</nav><header class="odoc-preamble"><h1>Module <code><span>Cfg_impl.Make</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter anchored" id="argument-1-Spec_"><a href="#argument-1-Spec_" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-Spec_/index.html">Spec_</a></span><span> : <a href="../../Cfg_intf/module-type-SPEC/index.html">Cfg_intf.SPEC</a></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Spec"><a href="#module-Spec" class="anchor"></a><code><span><span class="keyword">module</span> Spec</span><span> = <a href="argument-1-Spec_/index.html">Spec_</a></span></code></div><div class="spec-doc"><p>Specification of grammar elements</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-TSet"><a href="#module-TSet" class="anchor"></a><code><span><span class="keyword">module</span> TSet</span><span> : <span class="xref-unresolved">Stdlib</span>.Set.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">elt</span> = <span class="xref-unresolved">Spec</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-TMap"><a href="#module-TMap" class="anchor"></a><code><span><span class="keyword">module</span> TMap</span><span> : <span class="xref-unresolved">Stdlib</span>.Map.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">key</span> = <span class="xref-unresolved">Spec</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-NTSet"><a href="#module-NTSet" class="anchor"></a><code><span><span class="keyword">module</span> NTSet</span><span> : <span class="xref-unresolved">Stdlib</span>.Set.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">elt</span> = <span class="xref-unresolved">Spec</span>.nt</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-NTMap"><a href="#module-NTMap" class="anchor"></a><code><span><span class="keyword">module</span> NTMap</span><span> : <span class="xref-unresolved">Stdlib</span>.Map.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">key</span> = <span class="xref-unresolved">Spec</span>.nt</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ProdSet"><a href="#module-ProdSet" class="anchor"></a><code><span><span class="keyword">module</span> ProdSet</span><span> : <span class="xref-unresolved">Stdlib</span>.Set.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">elt</span> = <span class="xref-unresolved">Spec</span>.prod * <span><span class="xref-unresolved">Spec</span>.symbol <span class="xref-unresolved">list</span></span></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ProdMap"><a href="#module-ProdMap" class="anchor"></a><code><span><span class="keyword">module</span> ProdMap</span><span> : <span class="xref-unresolved">Stdlib</span>.Map.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">key</span> = <span class="xref-unresolved">Spec</span>.prod * <span><span class="xref-unresolved">Spec</span>.symbol <span class="xref-unresolved">list</span></span></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-grammar"><a href="#type-grammar" class="anchor"></a><code><span><span class="keyword">type</span> grammar</span></code></div><div class="spec-doc"><p>The type of context-free grammars</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-live_grammar"><a href="#type-live_grammar" class="anchor"></a><code><span><span class="keyword">type</span> live_grammar</span></code></div><div class="spec-doc"><p>The type of live CFGs</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>empty</code> is the empty grammar.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_prod"><a href="#val-add_prod" class="anchor"></a><code><span><span class="keyword">val</span> add_prod : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-nt">Spec.nt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-prod">Spec.prod</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="argument-1-Spec_/index.html#type-symbol">Spec.symbol</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>add_prod gr nt prod sl</code> adds a production with tag <code>prod</code> that derives to symbol list <code>sl</code> to nonterminal <code>nt</code> in grammar <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-remove_nt"><a href="#val-remove_nt" class="anchor"></a><code><span><span class="keyword">val</span> remove_nt : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-nt">Spec.nt</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>remove_nt gr nt</code> removes nonterminal <code>nt</code> from grammar <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-union"><a href="#val-union" class="anchor"></a><code><span><span class="keyword">val</span> union : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>union gr1 gr2</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the union grammar of <code>g1</code> and <code>g2</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span><span class="keyword">val</span> diff : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>diff gr1 gr2</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the difference grammar of <code>g1</code> and <code>g2</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inter"><a href="#val-inter" class="anchor"></a><code><span><span class="keyword">val</span> inter : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>inter gr1 gr2</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the intersection grammar of <code>g1</code> and <code>g2</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-grammar_of_live"><a href="#val-grammar_of_live" class="anchor"></a><code><span><span class="keyword">val</span> grammar_of_live : <span><a href="#type-live_grammar">live_grammar</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>grammar_of_live gr</code> converts a live grammar to a normal grammar.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prune_unproductive"><a href="#val-prune_unproductive" class="anchor"></a><code><span><span class="keyword">val</span> prune_unproductive : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>prune_unproductive gr</code> prunes all unproductive entitites in <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prune_nonlive"><a href="#val-prune_nonlive" class="anchor"></a><code><span><span class="keyword">val</span> prune_nonlive : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-live_grammar">live_grammar</a></span></code></div><div class="spec-doc"><p><code>prune_nonlive gr</code> prunes all nonlive entities in <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prune_unreachable"><a href="#val-prune_unreachable" class="anchor"></a><code><span><span class="keyword">val</span> prune_unreachable : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-nt">Spec.nt</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>prune_unreachable gr nt</code> prunes all entities in grammar <code>gr</code> which cannot be reached from nonterminal <code>nt</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Not_found</code> <p>if <code>nt</code> is not in <code>gr</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prune_unreachable_live"><a href="#val-prune_unreachable_live" class="anchor"></a><code><span><span class="keyword">val</span> prune_unreachable_live : <span><a href="#type-live_grammar">live_grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-nt">Spec.nt</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-live_grammar">live_grammar</a></span></code></div><div class="spec-doc"><p><code>prune_unreachable_live gr nt</code> prunes all entities in live grammar <code>gr</code> which cannot be reached from nonterminal <code>nt</code>. The resulting grammar contains derivation information.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Not_found</code> <p>if <code>nt</code> is not in <code>gr</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_sane"><a href="#val-make_sane" class="anchor"></a><code><span><span class="keyword">val</span> make_sane : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-nt">Spec.nt</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-grammar">grammar</a></span></code></div><div class="spec-doc"><p><code>make_sane gr nt</code> prunes all useless entities in grammar <code>gr</code> using nonterminal <code>nt</code> as start symbol.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Not_found</code> <p>if <code>nt</code> is not in <code>gr</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_sane_live"><a href="#val-make_sane_live" class="anchor"></a><code><span><span class="keyword">val</span> make_sane_live : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-nt">Spec.nt</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-live_grammar">live_grammar</a></span></code></div><div class="spec-doc"><p><code>make_sane_live gr nt</code> prunes all useless entities in grammar <code>gr</code> using nonterminal <code>nt</code> as start symbol.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Not_found</code> <p>if <code>nt</code> is not in <code>gr</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-grammar_contents"><a href="#val-grammar_contents" class="anchor"></a><code><span><span class="keyword">val</span> grammar_contents : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">ProdSet</span>.t <span class="xref-unresolved">NTMap</span>.t</span></span></code></div><div class="spec-doc"><p><code>grammar_contents gr</code> returns a traversable representation of grammar <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-deriv_depth_info"><a href="#val-deriv_depth_info" class="anchor"></a><code><span><span class="keyword">val</span> deriv_depth_info : <span><a href="#type-live_grammar">live_grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * <span>int <span class="xref-unresolved">ProdMap</span>.t</span>)</span> <span class="xref-unresolved">NTMap</span>.t</span></span></code></div><div class="spec-doc"><p><code>deriv_depth_info gr</code> returns a traversable representation of live grammar <code>gr</code>: the left part of the tuple to which nonterminals are mapped tells the minimum derivation depth needed to completely derive the corresponding nonterminal, the right part contains a map of productions which are mapped to their minimum derivation depth.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nts_in_grammar"><a href="#val-nts_in_grammar" class="anchor"></a><code><span><span class="keyword">val</span> nts_in_grammar : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">NTSet</span>.t</span></code></div><div class="spec-doc"><p><code>nts_in_grammar gr</code> returns the set of all nonterminals in <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ts_in_grammar"><a href="#val-ts_in_grammar" class="anchor"></a><code><span><span class="keyword">val</span> ts_in_grammar : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">TSet</span>.t</span></code></div><div class="spec-doc"><p><code>ts_in_grammar gr</code> returns the set of all terminals in <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prods_in_grammar"><a href="#val-prods_in_grammar" class="anchor"></a><code><span><span class="keyword">val</span> prods_in_grammar : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">ProdSet</span>.t</span></code></div><div class="spec-doc"><p><code>prods_in_grammar gr</code> returns the set of all productions in <code>gr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bounded_grammar"><a href="#val-bounded_grammar" class="anchor"></a><code><span><span class="keyword">val</span> bounded_grammar : <span><a href="#type-grammar">grammar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Spec_/index.html#type-nt">Spec.nt</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">TSet</span>.t * <a href="#type-grammar">grammar</a>)</span> list</span></span></code></div><div class="spec-doc"><p><code>bounded_grammar gr nt bound</code> computes a list of derivation levels from grammar <code>gr</code>, starting at start symbol <code>nt</code> and up to <code>bound</code>. Each level contains a set of terminals and a partial grammar which belong into this level.</p></div></div></div></body></html>
